@if (currentUser$ | async; as user) {
  <header class="app-header">
    <div class="header-container">
      <div class="header-left">
        <a routerLink="/meetings" class="logo">
          <app-icon name="calendar" [size]="28" color="#FF5F00" />
          <span class="logo-text">Meeting App</span>
        </a>
      </div>

      <div class="header-right">
        <div class="user-menu">
          <button class="user-menu-trigger" (click)="toggleUserMenu()">
            @if (user.profileImagePath) {
              <img [src]="getProfileImageUrl(user.profileImagePath)" [alt]="user.firstName" class="user-avatar">
            } @else {
              <div class="user-avatar-placeholder">
                {{ getUserInitials(user.firstName, user.lastName) }}
              </div>
            }
            <div class="user-info">
              <span class="user-name">{{ user.firstName }} {{ user.lastName }}</span>
              <span class="user-email">{{ user.email }}</span>
            </div>
            <app-icon name="arrow-right" [size]="16" [class.rotate]="showUserMenu()" />
          </button>

          @if (showUserMenu()) {
            <div class="user-menu-dropdown">
              <div class="dropdown-header">
                <div class="user-details">
                  <strong>{{ user.firstName }} {{ user.lastName }}</strong>
                  <span>{{ user.email }}</span>
                </div>
              </div>
              <div class="dropdown-divider"></div>
              <button class="dropdown-item" (click)="logout()">
                <app-icon name="logout" [size]="18" />
                Çıkış Yap
              </button>
            </div>
          }
        </div>
      </div>
    </div>
  </header>
}
